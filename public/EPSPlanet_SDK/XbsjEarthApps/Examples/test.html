<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="xbsj-labels" content="Earth起步">
    </meta>
    <title>创建地球12</title>
    <!-- 0 引入js文件 -->
    <script src="../../XbsjEarth/XbsjEarth.js"></script>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0px;
        }
    </style>
</head>

<body>
    <div id="earthContainer" style="width: 100%; height: 100%; background: grey">
    </div>
    <script>
        var earth;
        var bgImagery;

        function startup() {
            earth = new XE.Earth('earthContainer');

            earth.sceneTree.root = {
                "children": [
                    {
                        "czmObject": {
                            "xbsjType": "Imagery",
                            "xbsjGuid": "712a112e-14cd-46c3-bc7d-e79f7de90dcf",
                            "name": "高德影像",
                            "xbsjImageryProvider": {
                                "XbsjImageryProvider": {
                                    "url": "http://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",
                                    "srcCoordType": "GCJ02",
                                    "rectangle": [
                                        -3.141592653589793,
                                        -1.5707963267948966,
                                        3.141592653589793,
                                        1.5707963267948966
                                    ]
                                },
                                "UrlTemplateImageryProvider": {},
                                "WebMapServiceImageryProvider": {},
                                "WebMapTileServiceImageryProvider": {},
                                "ArcGisMapServerImageryProvider": {},
                                "GoogleEarthEnterpriseImageryProvider": {},
                                "createTileMapServiceImageryProvider": {}
                            }
                        }
                    },
                    {
                        "ref": "test",
                        "czmObject": {
                            "xbsjType": "Tileset",
                            "xbsjGuid": "39e9753c-97b6-43a3-a41a-40182681b437",
                            "name": "未命名瓦片",
                            "url": "http://localhost/gis/%E7%99%BD%E8%86%9C%E5%88%87%E7%89%87/%E5%8C%97%E4%BA%AC%E8%B4%B4%E5%9B%BE/tileset.json",
                            "xbsjPosition": [
                                2.0325021899430276,
                                0.7019883835094535,
                                -1079.1553964074699
                            ],
                            "xbsjClippingPlanes": {},
                            "xbsjCustomShader": {}
                        }
                    },
                    {
                        "ref": "test2",
                        "czmObject": {
                            "xbsjType": "Tileset",
                            "xbsjGuid": "cc2cece4-18d4-4f22-b15c-b2036caaf700",
                            "name": "未命名瓦片",
                            "url": "http://localhost/gis/%E5%80%BE%E6%96%9C%E5%88%87%E7%89%87/%E9%87%8D%E5%BB%BA%E6%96%B0%E4%B9%A1%E6%9C%9D%E9%98%B3/tileset.json",
                            "xbsjPosition": [
                                2.2008646862494814,
                                1.2189183380537552,
                                146.9999999965875
                            ],
                            "xbsjClippingPlanes": {},
                            "xbsjCustomShader": {}
                        }
                    }
                ]
            };
            earth.sceneTree.$refs.test2.czmObject.flyTo()
        }
        window.earth = earth;
        // 1 XE.ready()会加载Cesium.js等其他资源，注意ready()返回一个Promise对象。
        XE.ready().then(startup);            
    </script>
</body>

</html>